(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6020eed2"],{2423:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u}));var o=r("b775");function a(e){return Object(o["a"])({url:"/adm/article/save",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/adm/article/detail",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/adm/article/list",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/adm/article/topping",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/adm/article/boutique",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/adm/article/del",method:"post",data:e})}},b775:function(e,t,r){"use strict";r("d3b7");var o=r("bc3a"),a=r.n(o),n=r("5c96"),i=r("5f87"),l=r("a18c"),s=a.a.create({baseURL:"http://localhost:9001",timeout:5e3});s.interceptors.request.use((function(e){return e.headers["Authorization"]=Object(i["a"])()||"",e}),(function(e){return console.log(e),Promise.reject(e)})),s.interceptors.response.use((function(e){var t=e.data;if(200===t.code||"请先登录"!==t.msg)return t;l["b"].push("/login")}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=s},fdc6:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"标题：",prop:"title"}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("el-form-item",{attrs:{label:"作者：",prop:"auth"}},[r("el-input",{model:{value:e.form.auth,callback:function(t){e.$set(e.form,"auth",t)},expression:"form.auth"}})],1),r("el-form-item",{attrs:{label:"内容：",prop:"content"}},[r("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),r("el-form-item",{attrs:{label:"类型："}},[r("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("el-radio",{attrs:{label:1}},[e._v("提问")]),r("el-radio",{attrs:{label:2}},[e._v("文章")]),r("el-radio",{attrs:{label:3}},[e._v("公告")])],1)],1),r("el-form-item",{attrs:{label:"是否置顶："}},[r("el-radio-group",{model:{value:e.form.is_topping,callback:function(t){e.$set(e.form,"is_topping",t)},expression:"form.is_topping"}},[r("el-radio",{attrs:{label:2}},[e._v("置顶")]),r("el-radio",{attrs:{label:1}},[e._v("不置顶")])],1)],1),r("el-form-item",{attrs:{label:"是否精品："}},[r("el-radio-group",{model:{value:e.form.is_boutique,callback:function(t){e.$set(e.form,"is_boutique",t)},expression:"form.is_boutique"}},[r("el-radio",{attrs:{label:1}},[e._v("精品")]),r("el-radio",{attrs:{label:2}},[e._v("非精品")])],1)],1),r("el-form-item",{attrs:{label:"是否显示："}},[r("el-radio-group",{model:{value:e.form.is_del,callback:function(t){e.$set(e.form,"is_del",t)},expression:"form.is_del"}},[r("el-radio",{attrs:{label:1}},[e._v("显示")]),r("el-radio",{attrs:{label:2}},[e._v("不显示")])],1)],1),r("el-form-item",[e.form.id?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改文章")]):r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("添加文章")])],1)],1)],1)},a=[],n=r("c7eb"),i=r("5530"),l=r("1da1"),s=r("953d"),u=r("2423"),c=(r("a753"),r("8096"),r("14e1"),{name:"ArticleAdd",components:{quillEditor:s["quillEditor"]},data:function(){return{form:{title:"",auth:"",content:"",type:3,is_topping:1,is_boutique:2,is_del:1},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],auth:[{required:!0,message:"请输入作者",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["12","14","16","18","20","22","24","28","32","36"]}],[{header:[1,2,3,4,5,6]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["image","link"]]},placeholder:"请输入正文"}}},mounted:function(){this.$route.query.id&&this.getDetail(this.$route.query.id)},methods:{onEditorChange:function(e){e.quill;var t=e.html;e.text;this.content=t},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.articleAdd()}))},getDetail:function(e){var t=this;return Object(l["a"])(Object(n["a"])().mark((function r(){var o,a;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["d"])({id:e});case 2:if(o=r.sent,200==o.code){r.next=6;break}return t.$message({message:o.msg,type:"error",onClose:function(){t.$router.push({path:"/article/list"})}}),r.abrupt("return");case 6:a=o.data,t.form=Object(i["a"])({},a);case 8:case"end":return r.stop()}}),r)})))()},articleAdd:function(){var e=this;return Object(l["a"])(Object(n["a"])().mark((function t(){var r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["a"])(e.form);case 2:if(r=t.sent,200==r.code){t.next=6;break}return e.$message(r.msg),t.abrupt("return");case 6:e.$message({message:"保存成功",type:"success",onClose:function(){e.$router.push({path:"/article/list"})}});case 7:case"end":return t.stop()}}),t)})))()}}}),d=c,m=r("2877"),f=Object(m["a"])(d,o,a,!1,null,null,null);t["default"]=f.exports}}]);